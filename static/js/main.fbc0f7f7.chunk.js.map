{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/images-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","search","handleRequest","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onChangeForm","className","s","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGalleryItem","image","onClick","largeImageURL","tags","src","webformatURL","alt","ImageGalleryItemImage","defaultProps","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleOnBackdropClick","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","ImageGallery","modalWindowImage","showModal","images","map","index","protoTypes","PropTypes","array","isRequired","Button","text","icon","key","a","searchQuery","currentPage","axios","get","data","hits","defaults","baseURL","fetchImages","App","error","isLoading","onChangeQuery","query","then","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","shouldRenderLoadMoreButton","length","message","LoaderWrapper","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fbc0f7f7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1vQ-E\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1x9Pw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__jlnkt\",\"Modal\":\"Modal_Modal__3HByG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3gYrg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__30knp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3YAhW\",\"LoaderWrapper\":\"App_LoaderWrapper__2OHIR\"};","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    onChangeForm: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleRequest = e => {\r\n    this.setState({ search: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { search } = this.state;\r\n    this.props.onChangeForm(search);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleRequest}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => {\r\n  return (\r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => onClick(image.largeImageURL, image.tags)}\r\n    >\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  image: [],\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.element.isRequired,\r\n    onCloseModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleOnBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleOnBackdropClick}>\r\n        <div className={s.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.defaultProps = {\r\n  children: <div></div>,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Modal from '../Modal';\r\nimport s from './ImageGallery.module.css';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    modalWindowImage: null,\r\n    alt: null,\r\n  };\r\n\r\n  showModal = (largeImageURL, tags) => {\r\n    this.setState({\r\n      modalWindowImage: largeImageURL,\r\n      alt: tags,\r\n    });\r\n  };\r\n\r\n  onCloseModal = () => {\r\n    this.setState({\r\n      modalWindowImage: null,\r\n      alt: null,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { modalWindowImage, alt } = this.state;\r\n    const { images } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>\r\n          {images.map((image, index) => (\r\n            <ImageGalleryItem\r\n              key={index}\r\n              image={image}\r\n              onClick={this.showModal}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {modalWindowImage && (\r\n          <Modal onCloseModal={this.onCloseModal}>\r\n            <img src={modalWindowImage} alt={alt} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.defaultProps = {\r\n  images: [],\r\n};\r\n\r\nImageGallery.protoTypes = {\r\n  images: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick, text, type, icon }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      {type === 'icon' ? icon : text}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n  icon: PropTypes.element,\r\n};\r\n\r\nButton.defaultProps = {\r\n  text: 'Load more',\r\n  type: 'text',\r\n  icon: null,\r\n};\r\n\r\nexport default Button;\r\n","import axios from 'axios';\r\n\r\nconst key = '18518367-60788b25c9bdd8e2c754a390a';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nasync function fetchImages({ searchQuery = '', currentPage = 1 }) {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `?q=${searchQuery}&page=${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    );\r\n\r\n    return data.hits;\r\n  } catch (error) {\r\n    if (error) {\r\n      return [];\r\n    }\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default fetchImages;\r\n","import { Component } from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport fetchImages from './services/images-api';\r\nimport s from './App.module.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    images: [],\r\n    currentPage: 1,\r\n    error: null,\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevSearchQuery = prevState.searchQuery;\r\n    const nextSearchQuery = this.state.searchQuery;\r\n\r\n    if (prevSearchQuery !== nextSearchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      currentPage: 1,\r\n      images: [],\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { currentPage, searchQuery } = this.state;\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    fetchImages({ currentPage, searchQuery })\r\n      .then(hits =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...hits],\r\n          currentPage: prevState.currentPage + 1,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() =>\r\n        this.setState({ isLoading: false }, () =>\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n          }),\r\n        ),\r\n      );\r\n  };\r\n\r\n  render() {\r\n    const { images, error, isLoading } = this.state;\r\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onChangeForm={this.onChangeQuery} />\r\n        {error && <p>{error.message}</p>}\r\n\r\n        <ImageGallery images={images} />\r\n\r\n        {isLoading && (\r\n          <div className={s.LoaderWrapper}>\r\n            <Loader\r\n              type=\"ThreeDots\"\r\n              color=\"#00BFFF\"\r\n              height={80}\r\n              width={80}\r\n              timeout={3000}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1xC7Y\",\"SearchForm\":\"Searchbar_SearchForm__3vhlb\",\"SearchFormButton\":\"Searchbar_SearchFormButton__G9XjP\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3_jdA\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3UHZy\"};"],"sourceRoot":""}